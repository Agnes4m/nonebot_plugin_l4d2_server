<html>

<head>
  <style>
    body {
      background-image: url("Pixel.png");
      background-repeat: no-repeat;
      background-size: cover;
      /* 调整背景图片大小适应屏幕 */
      /*background-position: center center; /* 使背景图片始终居中 */
      /*background-attachment: fixed; /* 背景图片不随内容滚动 */
      margin: 0px;
      zoom: 150%;
    }

    /*页眉页脚文字颜色*/
    .loaded-text {
      color: #ffffff;
      /* 设置 .loaded-text 类的文字颜色 */
      font-family: "HYPixel 11px", sans-serif;
      /* 设置第一个字体 */
    }

    /*这个选择器 > svg > image 会只选择 ..loaded-text 下直接子元素的 SVG 图像*/
    .loaded-text>svg>image {
      filter: drop-shadow(#fff 100px 0);
      /* 将阴影颜色改为白色 */
      transform: translateX(-100px);
    }

    .image {
      display: flex;
      flex-direction: column;
      overflow: scroll;
      width: max-content;
      padding: 20px;
    }

    /*服务器序号及服务器名称颜色*/
    .plugin_name,
    .plugin_description {
      color: #ffffff;
      /* 将特定类的文字颜色改为你想要的颜色 */
      font-weight: bold;
      /* 将文字加粗 */
      font-family: "HYPixel 11px", sans-serif;
      /* 设置第一个字体 */
    }

    /* 页眉页脚 */
    .head {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      background-color: #97979757;
      padding-left: 20px;
      padding-right: 20px;
      padding-top: 10px;
      padding-bottom: 10px;
      border: 2px solid;
      border-radius: 50px;
      border-color: #e5e7eb;
      font-size: 16px;
      margin-bottom: 20px;
      /* 使用渐变色作为边框颜色 */
      border: 2px solid;
      border-image: linear-gradient(to right, #e907e0c9, #072be9c9);
      /* 定义水平渐变色 */
      border-image-slice: 1;
      /* 切片大小，这里设置为 1 表示渐变色沿着边框的整个长度均匀分布 */
      border-radius: 5px;
      font-family: "HYPixel 11px", sans-serif;
      /* 设置第一个字体 */
    }

    .plugins {
      display: grid;
      grid-template-columns: auto auto auto;
      row-gap: 20px;
      column-gap: 20px;
      margin-bottom: 20px;
    }

    /*每个服务器卡片样式*/
    .plugin {
      display: flex;
      padding: 5px;
      box-shadow: 0px 2px 6px 1px rgba(0, 0, 0, 0.2);
      background-color: #97979757;
      /* 使用渐变色作为边框颜色 */
      border: 2px solid;
      border-image: linear-gradient(to right, #e907e0c9, #072be9c9);
      /* 定义水平渐变色 */
      border-image-slice: 1;
      /* 切片大小，这里设置为 1 表示渐变色沿着边框的整个长度均匀分布 */
      border-radius: 5px;
    }


    .plugin_meta {
      display: flex;
      flex-direction: column;
      padding: 5px;
      width: 250px;
      justify-content: space-between;
    }

    .plugin_name {
      font-size: 20px;
      font-family: "HYPixel 11px", sans-serif;
      /* 设置第一个字体 */
    }

    .plugin_description {
      font-size: 15px;
      color: #efefef;
      margin-top: 5px;
      margin-bottom: 5px;
      font-family: "HYPixel 11px", sans-serif;
      /* 设置第一个字体 */
    }

    .plugin_meta_line1 {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
    }

    .plugin_meta_line2 {
      font-family: "HYPixel 11px", sans-serif;
      /* 设置第一个字体 */
    }

    .plugin_meta_line3 {
      display: flex;
      flex-direction: row;
      align-items: center;
    }

    /*这个选择器 > svg > image 会只选择 .plugin_meta_line3 下直接子元素的 SVG 图像*/
    .plugin_meta_line3>svg>image {
      filter: drop-shadow(#fff 100px 0);
      /* 将阴影颜色改为白色 */
      transform: translateX(-100px);
    }

    .package_name_label {
      background-image: url(./fingerprint.svg);
      width: 13px;
      height: 13px;
      color: #efefef;
      margin-right: 8px;
    }

    .package_name {
      font-size: 13px;
      color: #efefef;
      font-family: "HYPixel 11px", sans-serif;
      /* 设置第一个字体 */
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 24px;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
    }

    .slider.round {
      border-radius: 24px;
    }

    .status_text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      white-space: nowrap;
      /* 防止换行 */
      padding: 2px 6px;
      /* 添加一些内边距以增加可读性 */
      border-radius: 16px;
      /* 圆角 */
      box-shadow: 0px 0px 10px var(--shadow-color);
      /* 阴影效果 */
      font-family: "HYPixel 11px", sans-serif;
      /* 设置第一个字体 */
    }

    .status_text.error {
      --shadow-color: rgba(153, 153, 153);
      /* 错误时的阴影颜色 */
    }

    .status_text.lack {
      --shadow-color: rgba(76, 175, 80);
      /* 缺失时的阴影颜色 */
    }

    .status_text.full {
      --shadow-color: rgba(244, 67, 54);
      /* 完整时的阴影颜色 */
    }

    .status_text.not_full {
      --shadow-color: rgba(33, 150, 243);
      /* 非完整时的阴影颜色 */
    }

    .error {
      background-color: #999;
      /* 灰色背景 */
      color: white;
      /* 白色文字 */
    }

    .lack {
      background-color: #4CAF50;
      /* 绿色背景 */
      color: white;
      /* 白色文字 */
    }

    .full {
      background-color: #f44336;
      /* 红色背景 */
      color: white;
      /* 白色文字 */
    }

    .not_full {
      background-color: #2196F3;
      /* 蓝色背景 */
      color: white;
      /* 白色文字 */
    }
  </style>
</head>

<body>
  <div class="image">
    <div class="head">
      <span class="loaded-text"><b>已加载服务器</b></span>
      <span class="loaded-text">发送 “<b>查询指令+序号</b>” 查看详情</span>
    </div>
    <div class="plugins">
      {% for plugin in plugins %}
      <div class="plugin">
        <div class="plugin_meta">
          <div class="plugin_meta_line1">
            <div class="plugin_name">{{ plugin.command }}{{ plugin.id_ }}:{{ plugin.server.server_name }}</div>
            <div class="plugin_status">
              <label class="switch">
                <input class="checkbox" type="checkbox" {% if plugin.enabled %} checked {% endif %} />
                <span
                  class="slider round {% if plugin.server.player_count >= plugin.server.max_players %} locked {% endif %}">
                  <span
                    class="lock {% if plugin.server.player_count >= plugin.server.max_players %} locked {% endif %}"></span>
                  <span
                    class="status_text {% if plugin.server.max_players == 0 %}error{% elif plugin.server.player_count / plugin.server.max_players < 0.5 %}lack{% elif plugin.server.player_count >= plugin.server.max_players %}full{% else %}not_full{% endif %}">
                    {% if plugin.server.max_players == 0 %}
                    错误
                    {% elif plugin.server.player_count / plugin.server.max_players < 0.5 %} 缺人 {% elif
                      plugin.server.player_count>= plugin.server.max_players
                      %}
                      已满
                      {% else %}
                      未满
                      {% endif %}
                  </span>
                </span>
              </label>
            </div>
          </div>
          <div class="plugin_meta_line2">
            <font color="#66aa66">地图:{{ plugin.server.map_name }}</font><br>
            {% set player_count = plugin.player|length %}
            {% for i in range(max_count) %}
            {% set player = plugin.player[i] if i < player_count else None %} {% if player and player.name %} <font
              color="#ffffff">• {{ player.score }} | {{ player.name }}</font><br>
              {% else %}
              <!-- 如果玩家不存在或没有名字，则显示空行或占位符 -->
              <br>
              {% endif %}
              {% endfor %}
          </div>
          <div class="plugin_meta_line3">
            {% if plugin.server.platform == 'l' %}
            <image xlink:href="l.svg" width="13" height="13" />
            </svg>
            {% elif plugin.server.platform == 'w' %}
            <image xlink:href="w.svg" width="13" height="13" />
            {% else %}
            <image xlink:href="m.svg" width="13" height="13" />
            {% endif %}
            <div class="package_name">&nbsp{{ plugin.server.player_count }}/{{ plugin.server.max_players }} </div>
            <div class="package_name">&nbsp{{ plugin.server.vac_enabled}} </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="head">
      <span class="loaded-text">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"
          style="vertical-align: middle;">
          <image xlink:href="github.svg" width="20" height="20" />
        </svg>
        <b style="vertical-align: middle;">插件:Agnes4m</b>
      </span>
      <span class="loaded-text"><b>©爱丽数码</b></span>
    </div>
  </div>


</body>

</html>